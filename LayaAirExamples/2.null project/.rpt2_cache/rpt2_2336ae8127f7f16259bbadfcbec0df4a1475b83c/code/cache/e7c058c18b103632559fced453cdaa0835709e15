{
  "code": "export class CameraController extends Laya.Script3D {\r\n    constructor() {\r\n        super();\r\n        this.horizontalSpeed = .2;\r\n        this.verticalSpeed = .2;\r\n    }\r\n    onAwake() {\r\n        this.cameraHandle = this.owner.parent;\r\n        this.playerHandle = this.cameraHandle.parent;\r\n        this.player = this.playerHandle.getChildByName('Player');\r\n        Laya.stage.on('rotateCamera', this, this.rotateCamera);\r\n    }\r\n    rotateCamera(p, n) {\r\n        console.log(this.playerHandle.transform.position);\r\n        var horizontal = (n.x - p.x) * this.horizontalSpeed * Laya.updateTimer.delta / 1000;\r\n        var vertical = (n.y - p.y) * this.verticalSpeed * Laya.updateTimer.delta / 1000;\r\n        let playerEulerAngles = this.player.transform.rotationEuler;\r\n        this.playerHandle.transform.rotate(new Laya.Vector3(0, horizontal, 0), true, false);\r\n        if (vertical + this.cameraHandle.transform.localRotationEulerX >= 10 && vertical + this.cameraHandle.transform.localRotationEulerX <= 60)\r\n            this.cameraHandle.transform.rotate(new Laya.Vector3(vertical, 0, 0), true, false);\r\n        this.player.transform.rotationEuler = playerEulerAngles;\r\n    }\r\n}\r\n",
  "references": []
}
